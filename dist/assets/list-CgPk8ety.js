import{a as p,u as x,r as c,c as h,j as t,L as w}from"./index-CmA1NaPh.js";import{P as j}from"./page-breadcrumb-D3brcKhP.js";import{R as f}from"./data-grid-BXQ3tq6W.js";import"./spinner-D2zvTXmt.js";const g=()=>{const n=p(),{orders:i,isLoading:d}=x(e=>e.orders),[r,o]=c.useState(""),[l,m]=c.useState(i);c.useEffect(()=>{n(h())},[n]),c.useEffect(()=>{m(i.filter(e=>{const s=e.items.some(a=>a.product.name.toLowerCase().includes(r.toLowerCase()));return e.id.toString().includes(r.toLowerCase())||e.user.toString().includes(r.toLowerCase())||s}))},[i,r]);const u=[{name:"Order ID",selector:e=>e.id,width:"100px"},{name:"User ID",selector:e=>e.user,width:"100px"},{name:"Product Details",selector:e=>e.items.map(s=>`${s.product.name} (Unit Price: $${s.product.unit_price}, Quantity: ${s.quantity})`).join(", "),width:"300px"},{name:"Quantity",selector:e=>e.items.reduce((s,a)=>s+a.quantity,0),width:"100px"},{name:"Total Price ($)",selector:e=>e.items.reduce((s,a)=>s+parseFloat(a.price),0).toFixed(2),width:"120px"},{name:"Status",selector:e=>e.status,width:"100px"},{name:"Payment Status",selector:e=>e.payment_status,width:"100px"},{name:"Created At",selector:e=>new Date(e.created_at).toLocaleDateString(),width:"100px"}];return t.jsxs("div",{className:"page-content",children:[t.jsx(j,{title:"Home",subtitle:"Orders"}),t.jsx("div",{className:"row",children:t.jsx("div",{className:"col-md-12 grid-margin stretch-card",children:t.jsx("div",{className:"card",children:t.jsxs("div",{className:"card-body",children:[t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[t.jsx("h6",{className:"card-title mb-0",children:"AllÂ Orders"}),t.jsxs("div",{className:"w-100 gap-3  d-flex justify-content-end",children:[t.jsx("input",{type:"text",placeholder:"Search products...",className:"form-control w-25 form-control-sm",value:r,onChange:e=>o(e.target.value)}),t.jsx(w,{to:"/orders/new",className:"btn btn-dark btn-sm",type:"button",children:"Add New"})]})]}),t.jsx(f,{data:l,columns:u,isLoading:d,search:!0})]})})})})]})},L=()=>t.jsx("div",{children:t.jsx(g,{})});export{L as default};
